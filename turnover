@startuml

class "Правила" as rules {
  - {field} Регистратор : Документ.алтБФП_УстановкаПравилФормированияОборотов
  - {field} Организация : Справочник.Организации
  - {field} ВидБюджета : Справочник.алтБФП_ВидыБюджетов
  - {field} ВерсияПравил : Документ.алтБФП_УстановкаПравилФормированияОборотов_Вариант
  - {field} НомерШаблона : Строка
  - {field} СтатьяОборотовПоВидуБюджета : Справочник.алтБФП_СтатьиОборотовПоВидамБюджетов
  - {field} Показатель : ПланВидовХарактеристик.алтБФП_ВидыПоказателейСтатейБюджетов
  - {field} НомерПравила : Число
  - {field} ТипОборотовБюджета : Справочник.алтБФП_ТипыОборотовБюджетов
  - {field} Сумма : Булево
  - {field} ВалютнаяСумма : Булево
  - {field} СуммаНУ : Булево
  - {field} ВалютнаяСуммаНУ : Булево
  - {field} Количество : Булево 
}

class "ПравилаСтатей" as rules_of_article {
  - {field} ВариантБюджета : Справочник.алтБФП_ВариантыБюджетов
  - {field} УникальныйИдентификатор : Строка
  - {field} Регистратор : Документ.алтБФП_УстановкаПравилФормированияОборотов
  - {field} Организация : Справочник.Организации
  - {field} ВидБюджета : Справочник.алтБФП_ВидыБюджетов
  - {field} ВерсияПравил : Документ.алтБФП_УстановкаПравилФормированияОборотов_Вариант
  - {field} НомерШаблона : Строка
  - {field} СтатьяОборотовПоВидуБюджета : Справочник.алтБФП_СтатьиОборотовПоВидамБюджетов
  - {field} Показатель : ПланВидовХарактеристик.алтБФП_ВидыПоказателейСтатейБюджетов
  - {field} НомерПравила : Число
  - {field} ТипОборотовБюджета : Справочник.алтБФП_ТипыОборотовБюджетов
  - {field} Сумма : Булево
  - {field} ВалютнаяСумма : Булево
  - {field} СуммаНУ : Булево
  - {field} ВалютнаяСуммаНУ : Булево
  - {field} Количество : Булево
}

class "ДвиженияИПравила" as rules_and_movements {
  - {field} ВариантБюджета : Справочник.алтБФП_ВариантыБюджетов
  - {field} УникальныйИдентификатор : Строка
  - {field} ВидАналитики : ПланВидовХарактеристик.алтБФП_ВидыАналитикОборотов
  - {field} ЗначениеАналитики : ПВХ
  - {field} Статья : Справочник.алтБФП_СтатьиОборотовПоВидамБюджетов
  - {field} Приоритет : Число
  - {field} Обоснование : Строка
  - {field} КлючЗаполнения : Строка
  - {field} ВидПоказателя : ПланВидовХарактеристик.алтБФП_ВидыПоказателейСтатейБюджетов
  - {field} Дата : Дата
  - {field} ЗначениеПоказателя : Дата;Число
  - {field} Правила : Документ.алтБФП_УстановкаПравилФормированияОборотов
  - {field} Организация : Справочник.Организации
  - {field} ВидБюджета : Справочник.алтБФП_ВидыБюджетов
  - {field} ВерсияПравил : Документ.алтБФП_УстановкаПравилФормированияОборотов_Вариант
  - {field} НомерШаблона : Строка
  - {field} СтатьяОборотовПоВидуБюджета : Справочник.алтБФП_СтатьиОборотовПоВидамБюджетов
  - {field} Показатель : ПланВидовХарактеристик.алтБФП_ВидыПоказателейСтатейБюджетов
  - {field} НомерПравила : Число
  - {field} ТипОборотовБюджета : Справочник.алтБФП_ТипыОборотовБюджетов
  - {field} Сумма : Булево
  - {field} ВалютнаяСумма : Булево
  - {field} СуммаНУ : Булево
  - {field} ВалютнаяСуммаНУ : Булево
  - {field} Количество : Булево
}

class "КлючиОтбора" as keys {
  - {field} ВариантБюджета : Справочник.алтБФП_ВариантыБюджетов
  - {field} УникальныйИдентификатор : Строка
  - {field} ВидБюджета : Справочник.алтБФП_ВидыБюджетов
  - {field} Статья : Справочник.алтБФП_СтатьиОборотовПоВидамБюджетов
  - {field} Показатель : ПланВидовХарактеристик.алтБФП_ВидыПоказателейСтатейБюджетов
}



class "Механизм формирования оборотов" as mechanism_of_turnover {
  Механизм формирования оборотов - Общий модуль
  + {method} Правила() : Правила
  + {method} ВыборПравил(param1: Правила, param2: КлючиОтбора) : ПравилаСтатей
  + {method} ПрименитьПравила(param1: ПравилаСтатей, param2: Движения) : ДвиженияИПравила
  + {method} СформироватьОбороты(param1: ДвиженияИПравила) : void
}

@enduml